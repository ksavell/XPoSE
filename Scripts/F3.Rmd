---
title: "F3"
author: "Kareem"
date: "2023-03-15"
output: html_document
---

#Load Packages
```{r}
library(Seurat)
library(ggplot2)
library(dplyr)
library(clustree)
library(tidyverse)
```
#Load Objects
```{r}
setwd("/Users/woodskad/Desktop/Analysis/F3/")
load("/Users/woodskad/Desktop/Analysis/S1/Robject/gaba_subset_forthpipe_03142023.RData")
load("/Users/woodskad/Desktop/Analysis/S1/Robject/glut_subset_forthpipe_11102022.RData")
```
#GLUT

#Make Glut Table 
```{r}
glut.subset2$cluster_group <- paste(glut.subset2$seurat_clusters, 
                                    glut.subset2$group, 
                                    sep = "_")
df.glut1 <- data.frame(table(glut.subset2$cluster_group))
df.glut2 <- data.frame(table(glut.subset2$group))
df.glut1$group.total <- (df.glut2$Freq)
df.glut1$fract <- (df.glut1$Freq/df.glut1$group.total)
```

#GABA
#Make Gaba Table 
```{r}
gaba.subset2$cluster_group <- paste(gaba.subset2$seurat_clusters, 
                                    gaba.subset2$group, 
                                    sep = "_")

df.gaba1 <- data.frame(table(gaba.subset2$cluster_group))
df.gaba2 <- data.frame(table(gaba.subset2$group))
#add row to add group totals correctly 
df.gaba1[nrow(df.gaba1) +1,] <- list('6_positive', '0')
df.gaba1$group.total <- (df.gaba2$Freq)

#then delete after to find fractions
df.gaba1 <- df.gaba1[-21,]
#Change Freq from character to numeric values to divide by group total
df.gaba1$Freq <- as.numeric(df.gaba1$Freq)

df.gaba1$fract <- (df.gaba1$Freq/df.gaba1$group.total)



```
